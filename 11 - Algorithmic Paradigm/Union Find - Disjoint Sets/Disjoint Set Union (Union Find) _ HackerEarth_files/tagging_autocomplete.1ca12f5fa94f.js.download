function split(a){return a.split(/,\s*/)}function extractLast(a){return split(a).pop()}function installTaggingAutocompleate(a,b){$("#"+a).autocomplete({source:function(a,c){$.getJSON(b,{term:extractLast(a.term)},c)},search:function(){var a=extractLast(this.value);if(a.length<2)return!1},focus:function(){return!1},select:function(a,b){var c=split(this.value);return c.pop(),c.push(b.item.value),c.push(""),this.value=c.join(", "),!1}})};